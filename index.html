<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARIF BINGO - Ultimate</title>
    <style>
        :root { --gold: #facc15; --blue: #1e40af; --dark: #020617; --red: #ef4444; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: white; margin: 0; overflow: hidden; height: 100vh; }
        
        /* Dashboard Page */
        #dashboard { display: flex; flex-direction: column; height: 100vh; padding: 20px; box-sizing: border-box; }
        .logo-main { font-size: 2.5rem; font-weight: 900; color: var(--gold); text-align: center; margin-bottom: 20px; text-shadow: 2px 2px #000; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .menu-item { background: #1e293b; padding: 20px; border-radius: 15px; border: 1px solid var(--gold); text-align: center; cursor: pointer; }
        .play-btn { background: var(--gold); color: black; padding: 20px; border-radius: 50px; font-weight: bold; font-size: 1.5rem; margin-top: 30px; border: none; }

        /* Game Page */
        #gamePage { display: none; flex-direction: column; height: 100vh; padding: 10px; box-sizing: border-box; }
        .game-top { display: flex; justify-content: space-around; align-items: center; background: linear-gradient(to right, #1e3a8a, #3b82f6); padding: 10px; border-radius: 15px; border: 2px solid var(--gold); height: 20%; }
        .call-text { font-size: 1.2rem; color: var(--gold); }
        .call-num { font-size: 4rem; font-weight: 900; line-height: 1; }
        
        /* Bingo Table Fixed for Mobile Screen */
        .bingo-section { height: 70%; display: flex; flex-direction: column; justify-content: center; margin-top: 5px; }
        .h-row { display: grid; grid-template-columns: repeat(5, 1fr); margin-bottom: 2px; }
        .h-letter { font-size: 1.5rem; font-weight: 900; color: var(--gold); text-align: center; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 4px; }
        .cell { aspect-ratio: 1/1; background: white; color: var(--blue); border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: 800; cursor: pointer; }
        .cell.marked { background: var(--red) !important; color: white !important; }

        /* Popups */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); padding: 30px; flex-direction: column; justify-content: center; z-index: 100; }
        .modal-content { background: #1e293b; padding: 20px; border-radius: 20px; border: 2px solid var(--gold); text-align: center; }
    </style>
</head>
<body>

    <div id="dashboard">
        <div class="logo-main">ARIF BINGO</div>
        <div style="text-align:center; color:var(--gold); font-size:1.2rem;">á‰€áˆª áˆ‚áˆ³á‰¥: <span id="balance">0.00</span> ETB</div>
        
        <div class="menu-grid">
            <div class="menu-item" onclick="showModal('reg')">ğŸ‘¤ áˆ˜áˆ˜á‹áŒˆá‰¢á‹«</div>
            <div class="menu-item" onclick="showModal('pay')">ğŸ’° áˆ‚áˆ³á‰¥ áˆ™áˆ‹</div>
            <div class="menu-item" onclick="showModal('help')">â“ áŠ¥áˆ­á‹³á‰³</div>
            <div class="menu-item" onclick="showModal('with')">ğŸ’¸ áŒˆáŠ•á‹˜á‰¥ áŠ á‹áŒ£</div>
        </div>

        <button class="play-btn" onclick="tryPlay()">á‰°áŒ«á‹ˆá‰µ (PLAY)</button>
    </div>

    <div id="gamePage">
        <div class="game-top">
            <div style="text-align:center">
                <div class="call-text" id="lDisp">B</div>
                <div class="call-num" id="nDisp">--</div>
            </div>
            <div style="font-size: 0.8rem; width: 50%; color: #cbd5e1;" id="hist">á‰³áˆªáŠ­: </div>
        </div>

        <div class="bingo-section">
            <div class="h-row">
                <div class="h-letter">B</div><div class="h-letter">I</div><div class="h-letter">N</div><div class="h-letter">G</div><div class="h-letter">O</div>
            </div>
            <div class="grid" id="bingoGrid"></div>
        </div>
        <button style="margin-top:5px; background:var(--red); color:white; border:none; padding:10px; border-radius:10px;" onclick="location.reload()">á‹áŒ£</button>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content" id="mContent"></div>
        <button style="margin-top:15px; padding:10px;" onclick="closeModal()">á‹áŒ‹</button>
    </div>

    <script>
        let balance = 0;
        let calledNums = [];
        let isRegistered = false;

        function showModal(type) {
            const mc = document.getElementById('mContent');
            document.getElementById('modal').style.display = 'flex';
            if(type === 'pay') {
                mc.innerHTML = `<h3>áˆ‚áˆ³á‰¥ áˆˆáˆ˜áˆ™áˆ‹á‰µ</h3>
                <p>áˆ˜áŠ­áˆá‹« á‰áŒ¥áˆ­: <b style="color:var(--gold)">0906420377</b></p>
                <button onclick="balance+=100; closeModal(); updateBal()">á‰ á‰´áˆŒá‰¥áˆ­ áŠ­áˆá‹«áˆˆáˆ (áˆ™áŠ¨áˆ«)</button><br><br>
                <button onclick="balance+=100; closeModal(); updateBal()">á‰ áˆ²á‰¢áŠ¢ á‰¥áˆ­ áŠ­áˆá‹«áˆˆáˆ (áˆ™áŠ¨áˆ«)</button>`;
            } else if(type === 'reg') {
                mc.innerHTML = `<h3>áˆ˜áˆ˜á‹áŒˆá‰¢á‹«</h3>
                <input type="tel" id="p" placeholder="áˆµáˆáŠ­ á‰áŒ¥áˆ­" style="padding:10px; width:80%"><br><br>
                <button onclick="isRegistered=true; closeModal()">áˆ˜á‹áŒá‰¥</button>`;
            } else if(type === 'help') {
                mc.innerHTML = `<h3>áŠ¥áˆ­á‹³á‰³</h3><p>10 á‰¥áˆ­ áŠ¨ááˆˆá‹ á‹­áŒ«á‹ˆá‰±á¢ 10 áŒŠá‹œ áˆ²áŒ«á‹ˆá‰± 1 áŠáŒ» á‹«áŒˆáŠ›áˆ‰á¢</p>`;
            }
        }

        function closeModal() { document.getElementById('modal').style.display = 'none'; }
        function updateBal() { document.getElementById('balance').innerText = balance.toFixed(2); }

        function tryPlay() {
            if(!isRegistered) { alert("áŠ¥á‰£áŠ­á‹ áˆ˜áŒ€áˆ˜áˆªá‹« á‹­áˆ˜á‹áŒˆá‰¡!"); return; }
            if(balance < 10) { alert("á‰ á‰‚ áˆ‚áˆ³á‰¥ á‹¨áˆá‰µáˆ! áŠ¥á‰£áŠ­á‹ áˆ‚áˆ³á‰¥ á‹­áˆ™áˆ‰ (10 ETB)"); return; }
            balance -= 10;
            updateBal();
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('gamePage').style.display = 'flex';
            startGame();
        }

        function startGame() {
            createCard();
            setInterval(() => {
                let n = Math.floor(Math.random() * 75) + 1;
                while(calledNums.includes(n)) n = Math.floor(Math.random() * 75) + 1;
                calledNums.push(n);
                let l = "BINGO"[Math.floor((n-1)/15)];
                document.getElementById('lDisp').innerText = l;
                document.getElementById('nDisp').innerText = n;
                document.getElementById('hist').innerText = "á‰³áˆªáŠ­: " + l + "-" + n + ", " + document.getElementById('hist').innerText.replace("á‰³áˆªáŠ­: ", "").substring(0, 30);
            }, 5000);
        }

        function createCard() {
            const g = document.getElementById('bingoGrid');
            g.innerHTML = '';
            let cols = [[],[],[],[],[]];
            for(let i=0; i<5; i++) {
                while(cols[i].length < 5) {
                    let r = Math.floor(Math.random() * 15) + (i * 15 + 1);
                    if(!cols[i].includes(r)) cols[i].push(r);
                }
            }
            for(let r=0; r<5; r++) {
                for(let c=0; c<5; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    let val = (r===2 && c===2) ? 'FREE' : cols[c][r];
                    cell.innerText = val;
                    if(val==='FREE') cell.classList.add('marked');
                    cell.onclick = function() {
                        if(val==='FREE' || calledNums.includes(parseInt(val))) this.classList.add('marked');
                        else alert("á‹­áˆ… á‰áŒ¥áˆ­ áŒˆáŠ“ áŠ áˆá‹ˆáŒ£áˆ!");
                    };
                    g.appendChild(cell);
                }
            }
        }
    </script>
</body>
</html>
