<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARIF BINGO - Dual Language</title>
    <style>
        :root { --gold: #facc15; --blue: #1e40af; --dark: #020617; --red: #ef4444; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: white; margin: 0; overflow: hidden; height: 100vh; }
        
        /* Language Selection */
        #langOverlay { position: fixed; inset: 0; background: var(--dark); z-index: 2000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .lang-btn { background: var(--gold); color: black; padding: 15px 40px; border-radius: 10px; font-weight: bold; margin: 10px; width: 200px; border: none; font-size: 1.2rem; }

        /* Dashboard */
        #dashboard { display: none; flex-direction: column; height: 100vh; padding: 15px; box-sizing: border-box; }
        .logo { font-size: 2.5rem; font-weight: 900; color: var(--gold); text-align: center; margin: 10px 0; }
        .menu-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .menu-item { background: #1e293b; padding: 15px; border-radius: 12px; border: 1px solid #334155; text-align: center; cursor: pointer; font-size: 0.9rem; }
        .menu-item:active { border-color: var(--gold); }
        .play-main { background: var(--gold); color: black; padding: 18px; border-radius: 50px; font-weight: bold; font-size: 1.4rem; margin: 20px 0; border: none; width: 100%; }

        /* Game Page */
        #gamePage { display: none; flex-direction: column; height: 100vh; padding: 10px; box-sizing: border-box; }
        .caller-box { height: 18%; background: linear-gradient(135deg, #1e3a8a, #3b82f6); border-radius: 15px; border: 2px solid var(--gold); display: flex; justify-content: center; align-items: center; position: relative; }
        .c-val { font-size: 3.5rem; font-weight: 900; }
        .c-let { font-size: 1.2rem; color: var(--gold); position: absolute; top: 5px; left: 15px; }

        /* Bingo Table */
        .grid-container { height: 70%; display: flex; flex-direction: column; justify-content: center; }
        .h-row { display: grid; grid-template-columns: repeat(5, 1fr); margin-bottom: 5px; }
        .h-let { text-align: center; color: var(--gold); font-weight: bold; font-size: 1.4rem; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; }
        .cell { aspect-ratio: 1/1; background: white; color: var(--blue); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: 800; }
        .cell.marked { background: var(--red) !important; color: white !important; }

        /* Alerts */
        #gameAlert { height: 25px; font-size: 0.8rem; color: var(--gold); text-align: center; margin-top: 5px; }

        /* Modal */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 3000; padding: 20px; flex-direction: column; align-items: center; justify-content: center; }
        .modal-card { background: #1e293b; width: 90%; padding: 20px; border-radius: 20px; border: 2px solid var(--gold); text-align: center; }
        .pay-icon { width: 45%; padding: 10px; margin: 5px; border-radius: 10px; border: 1px solid #444; background: #0f172a; cursor: pointer; display: inline-block; }
    </style>
</head>
<body>

    <div id="langOverlay">
        <div class="logo">ARIF BINGO</div>
        <button class="lang-btn" onclick="setLang('am')">·ä†·àõ·à≠·äõ</button>
        <button class="lang-btn" onclick="setLang('en')">English</button>
    </div>

    <div id="dashboard">
        <div class="logo">ARIF BINGO</div>
        <div style="text-align:center; color:var(--gold); margin-bottom:15px;"><span id="tBal">·âÄ·à™ ·àÇ·à≥·â•</span>: <span id="balance">0.00</span> ETB</div>
        
        <div class="menu-grid">
            <div class="menu-item" onclick="showModal('reg')">üë§ <span id="tReg">·àò·àò·ãù·åà·â¢·ã´</span></div>
            <div class="menu-item" onclick="showModal('pay')">üí∞ <span id="tPay">·àÇ·à≥·â• ·àô·àã</span></div>
            <div class="menu-item" onclick="showModal('help')">‚ùì <span id="tHelp">·ä•·à≠·ã≥·â≥</span></div>
            <div class="menu-item" onclick="showModal('with')">üí∏ <span id="tWith">·åà·äï·ãò·â• ·ä†·ãç·å£</span></div>
            <div class="menu-item" style="grid-column: span 2;" onclick="showModal('bonus')">üéÅ <span id="tBon">·ã®10+1 ·äê·åª ·åâ·à≠·àª</span></div>
        </div>

        <button class="play-main" id="tPlayBtn" onclick="tryPlay()">·â∞·å´·ãà·âµ (PLAY)</button>
    </div>

    <div id="gamePage">
        <div class="caller-box">
            <span class="c-let" id="curL">B</span>
            <div class="c-val" id="curN">--</div>
        </div>
        <div class="grid-container">
            <div class="h-row">
                <div class="h-let">B</div><div class="h-let">I</div><div class="h-let">N</div><div class="h-let">G</div><div class="h-let">O</div>
            </div>
            <div class="grid" id="bingoGrid"></div>
            <div id="gameAlert"></div>
        </div>
        <button onclick="location.reload()" style="background:none; border:1px solid gray; color:gray; padding:8px; border-radius:5px; width:50%; margin: 0 auto;">Back/·â∞·àò·àà·àµ</button>
    </div>

    <div id="modal" class="modal">
        <div class="modal-card" id="mContent"></div>
        <button onclick="closeModal()" style="margin-top:20px; background:var(--red); color:white; border:none; padding:10px 30px; border-radius:10px;">·ãù·åã / Close</button>
    </div>

    <script>
        let balance = 0, isReg = false, lang = 'am', called = [];
        const texts = {
            am: {bal:"·âÄ·à™ ·àÇ·à≥·â•", reg:"·àò·àò·ãù·åà·â¢·ã´", pay:"·àÇ·à≥·â• ·àô·àã", help:"·ä•·à≠·ã≥·â≥", with:"·åà·äï·ãò·â• ·ä†·ãç·å£", bon:"·ã®10+1 ·äê·åª ·åâ·à≠·àª", play:"·â∞·å´·ãà·âµ", noBal:"·â†·âÇ ·àÇ·à≥·â• ·ã®·àé·âµ·àù! ·ä•·â£·ä≠·ãé ·àÇ·à≥·â• ·ã≠·àô·àâ", noCall:"·ã≠·àÖ ·âÅ·å•·à≠ ·åà·äì ·ä†·àç·ãà·å£·àù!", bonus:"10 ·åä·ãú ·à≤·å´·ãà·â± 1 ·äê·åª ·ã´·åà·äõ·àâ·ç¢"},
            en: {bal:"Balance", reg:"Register", pay:"Deposit", help:"Help", with:"Withdraw", bon:"10+1 Bonus", play:"Play", noBal:"Insufficient balance! Please deposit", noCall:"Number not called yet!", bonus:"Play 10 times and get 1 free game."}
        };

        function setLang(l) {
            lang = l;
            document.getElementById('langOverlay').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';
            ['tBal','tReg','tPay','tHelp','tWith','tBon','tPlayBtn'].forEach(id => {
                let key = id.replace('t','').toLowerCase();
                if(id === 'tPlayBtn') key = 'play';
                document.getElementById(id).innerText = texts[lang][key];
            });
        }

        function showModal(type) {
            const mc = document.getElementById('mContent');
            document.getElementById('modal').style.display = 'flex';
            if(type==='pay') {
                mc.innerHTML = `<h3>${texts[lang].pay}</h3>
                <div class="pay-icon" onclick="this.innerHTML='0906420377'">Telebirr</div>
                <div class="pay-icon" onclick="this.innerHTML='0906420377'">CBE Birr</div>
                <p style="font-size:0.8rem; margin-top:10px;">·ä†·ã≠·ä®·äë·äï ·à≤·äê·ä© ·âÅ·å•·à© ·ã≠·â≥·ã´·àç</p>`;
            } else if(type==='with') {
                mc.innerHTML = `<h3>${texts[lang].with}</h3>
                <input type="tel" placeholder="·åà·äï·ãò·â• ·ã®·àö·åà·â£·â†·âµ ·àµ·àç·ä≠ ·âÅ·å•·à≠" style="width:90%; padding:12px; border-radius:10px;"><br><br>
                <input type="number" placeholder="·àò·å†·äï (Amount)" style="width:90%; padding:12px; border-radius:10px;"><br><br>
                <button class="lang-btn" style="width:100%">·å†·ã≠·âÖ (Request)</button>`;
            } else if(type==='help') {
                mc.innerHTML = `<h3>${texts[lang].help}</h3><p>${texts[lang].bonus}</p><p>·ä†·à∏·äì·çä ·àà·àò·àÜ·äï ·â†·ä´·à≠·ãµ·ãé ·àã·ã≠ ·ã´·àâ·âµ·äï ·àÅ·àâ·äï·àù ·âÅ·å•·àÆ·âΩ ·àõ·åç·äò·âµ ·ä†·àà·â•·ãé·âµ·ç¢</p>`;
            } else if(type==='reg') {
                mc.innerHTML = `<h3>${texts[lang].reg}</h3><input id="ph" type="tel" placeholder="09..." style="padding:10px; width:80%"><br><br><button onclick="isReg=true; closeModal()">Register</button>`;
            } else if(type==='bonus') {
                mc.innerHTML = `<h3>Bonus</h3><p>${texts[lang].bonus}</p>`;
            }
        }

        function closeModal() { document.getElementById('modal').style.display = 'none'; }

        function tryPlay() {
            if(!isReg) { showModal('reg'); return; }
            // Observe mode: even if balance is 0, they can enter
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('gamePage').style.display = 'flex';
            startBingo();
        }

        function startBingo() {
            const grid = document.getElementById('bingoGrid'); grid.innerHTML = '';
            let cols = [[],[],[],[],[]];
            for(let i=0; i<5; i++) { while(cols[i].length < 5) { let r = Math.floor(Math.random()*15)+(i*15+1); if(!cols[i].includes(r)) cols[i].push(r); }}
            for(let r=0; r<5; r++) {
                for(let c=0; c<5; c++) {
                    const cell = document.createElement('div'); cell.className = 'cell';
                    let val = (r===2 && c===2) ? 'FREE' : cols[c][r];
                    cell.innerText = val; if(val==='FREE') cell.classList.add('marked');
                    cell.onclick = function() {
                        if(balance < 10 && val!=='FREE') { alert(texts[lang].noBal); return; }
                        if(val==='FREE' || called.includes(parseInt(val))) { this.classList.add('marked'); }
                        else { document.getElementById('gameAlert').innerText = texts[lang].noCall; setTimeout(()=>document.getElementById('gameAlert').innerText='', 2000); }
                    };
                    grid.appendChild(cell);
                }
            }
            setInterval(() => {
                let n; do { n = Math.floor(Math.random()*75)+1; } while(called.includes(n));
                called.push(n); let l = "BINGO"[Math.floor((n-1)/15)];
                document.getElementById('curL').innerText = l; document.getElementById('curN').innerText = n;
            }, 5000);
        }
    </script>
</body>
</html>
