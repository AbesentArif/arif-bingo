<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>áŠ áˆªá á‰¢áŠ•áŒ - Arif Bingo</title>
    <style>
        :root { --primary: #facc15; --bg: #0f172a; --card-bg: #1e293b; --accent: #3b82f6; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); color: white; margin: 0; text-align: center; }
        
        /* Caller Box Design */
        .caller-box { background: linear-gradient(135deg, #1e3a8a, #3b82f6); margin: 15px; padding: 20px; border-radius: 20px; border: 3px solid var(--primary); box-shadow: 0 0 20px rgba(250, 204, 21, 0.4); }
        .current-number { font-size: 3.5rem; font-weight: 900; color: var(--primary); text-shadow: 3px 3px 0 #000; }
        .timer-bar { height: 5px; background: var(--primary); width: 100%; margin-top: 10px; border-radius: 5px; transition: width 5s linear; }

        /* History */
        .history { font-size: 0.9rem; color: #94a3b8; margin: 10px; min-height: 20px; overflow-x: auto; white-space: nowrap; }

        /* Payment & Bonus */
        .stats-bar { display: flex; justify-content: space-around; background: #1e293b; padding: 10px; border-bottom: 2px solid var(--primary); }
        .bonus-info { color: #4ade80; font-size: 0.8rem; }

        /* Bingo Card */
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; background: #1e3a8a; padding: 10px; border-radius: 15px; max-width: 330px; margin: 0 auto; }
        .cell { width: 55px; height: 55px; background: white; color: #1e3a8a; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; font-weight: 800; border-radius: 8px; cursor: pointer; }
        .cell.marked { background: #ef4444; color: white; transform: scale(0.95); }

        /* Bottom Menu */
        .footer-menu { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 15px; }
        .pay-btn { background: #334155; padding: 12px; border-radius: 10px; font-size: 0.75rem; cursor: pointer; border: 1px solid var(--primary); }
    </style>
</head>
<body>

    <div class="stats-bar">
        <div>ğŸ’° 1 áŒ¨á‹‹á‰³: 10 ETB</div>
        <div class="bonus-info" id="bonusText">ğŸ 10 áŒŠá‹œ á‰°áŒ«á‹ˆá‰µ 1 á‰ áŠáŒ»! (á‰€áˆª: 10)</div>
    </div>

    <div class="caller-box">
        <div style="font-size: 0.9rem; margin-bottom: 5px;">áŠ áˆáŠ• á‹¨á‹ˆáŒ£ á‰áŒ¥áˆ­</div>
        <div class="current-number" id="nowCalling">--</div>
        <div class="timer-bar" id="timer"></div>
    </div>

    <div class="history" id="callHistory">á‹¨á‹ˆáŒ¡ á‰áŒ¥áˆ®á‰½: </div>

    <div class="grid" id="bingoGrid"></div>

    <div class="footer-menu">
        <div class="pay-btn" onclick="showPay('telebirr')">ğŸ“² á‰´áˆŒá‰¥áˆ­</div>
        <div class="pay-btn" onclick="showPay('cbe')">ğŸ¦ áˆ²á‰¢áŠ¢ á‰¥áˆ­</div>
        <div class="pay-btn" onclick="alert('áˆ›áˆ¨áŒ‹áŒˆáŒ«á‹áŠ• á‹ˆá‹° @Admin á‹­áˆ‹áŠ©')">âœ”ï¸ áˆ›áˆ¨áŒ‹áŒˆáŒ«</div>
    </div>

    <button style="background:var(--primary); width:90%; padding:15px; border-radius:50px; border:none; font-weight:bold; font-size:1.1rem;" onclick="startGame()">áŒ¨á‹‹á‰³ áŒ€áˆáˆ­ (10 ETB)</button>

    <script>
        let gameActive = false;
        let calledNumbers = [];
        let gamesPlayed = 0;

        function showPay(method) {
            let phone = "09XXXXXXXX"; // á‹«áŠ•á‰° á‹¨áˆ˜á‰€á‰ á‹« á‰áŒ¥áˆ­ áŠ¥á‹šáˆ… á‹­áŒá‰£
            alert(method.toUpperCase() + " áˆ˜áŠ­áˆá‹« á‰áŒ¥áˆ­: " + phone + "\náŠ¥á‰£áŠ­áˆ… 10 á‰¥áˆ­ áŠ¨ááˆˆáˆ… áˆ›áˆ¨áŒ‹áŒˆáŒ«á‹áŠ• áˆ‹áŠ­!");
        }

        function generateBoard() {
            const grid = document.getElementById('bingoGrid');
            grid.innerHTML = '';
            let columns = [[], [], [], [], []];
            for(let i=0; i<5; i++) {
                while(columns[i].length < 5) {
                    let r = Math.floor(Math.random() * 15) + (i * 15 + 1);
                    if(!columns[i].includes(r)) columns[i].push(r);
                }
            }
            for(let row=0; row<5; row++) {
                for(let col=0; col<5; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    let val = columns[col][row];
                    if(row === 2 && col === 2) { cell.innerText = 'FREE'; cell.classList.add('marked'); }
                    else { cell.innerText = val; cell.onclick = function() { this.classList.toggle('marked'); }; }
                    grid.appendChild(cell);
                }
            }
        }

        function startGame() {
            if(gameActive) return;
            gameActive = true;
            calledNumbers = [];
            document.getElementById('callHistory').innerText = "á‹¨á‹ˆáŒ¡ á‰áŒ¥áˆ®á‰½: ";
            generateBoard();
            callNext();
            
            gamesPlayed++;
            let remaining = 10 - (gamesPlayed % 10);
            document.getElementById('bonusText').innerText = `ğŸ 10 áŒŠá‹œ á‰°áŒ«á‹ˆá‰µ 1 á‰ áŠáŒ»! (á‰€áˆª: ${remaining})`;
        }

        function callNext() {
            if(!gameActive || calledNumbers.length >= 75) return;
            
            let r;
            do { r = Math.floor(Math.random() * 75) + 1; } while (calledNumbers.includes(r));
            
            let letter = "BINGO"[Math.floor((r-1)/15)];
            let call = letter + "-" + r;
            
            document.getElementById('nowCalling').innerText = call;
            calledNumbers.push(r);
            document.getElementById('callHistory').innerText += call + ", ";

            // Timer Animation Reset
            let timer = document.getElementById('timer');
            timer.style.transition = 'none';
            timer.style.width = '100%';
            setTimeout(() => {
                timer.style.transition = 'width 5s linear';
                timer.style.width = '0%';
            }, 50);

            setTimeout(callNext, 5000);
        }

        generateBoard();
    </script>
</body>
</html>
